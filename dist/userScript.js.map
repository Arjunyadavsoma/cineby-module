{"version":3,"file":"userScript.js","mappings":"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","sources":["webpack://cineby-mods/./src/index.js"],"sourcesContent":["/**\r\n * Cineby TizenBrew Module\r\n * Enhances Cineby.gd for Samsung Tizen Smart TVs\r\n */\r\n\r\n(function() {\r\n  'use strict';\r\n  \r\n  console.log('üé¨ Cineby TizenBrew Module v1.0.0 Loaded!');\r\n  \r\n  // Configuration\r\n  const CONFIG = {\r\n    focusColor: '#00ff00',\r\n    focusWidth: '4px',\r\n    scaleOnFocus: 1.08,\r\n    scrollBehavior: 'smooth',\r\n    videoSeekStep: 10, // seconds\r\n    debug: true\r\n  };\r\n  \r\n  // State management\r\n  const state = {\r\n    focusedElement: null,\r\n    videoElement: null,\r\n    isVideoFullscreen: false,\r\n    lastKeyTime: 0\r\n  };\r\n  \r\n  // Utility functions\r\n  const utils = {\r\n    log: (...args) => {\r\n      if (CONFIG.debug) {\r\n        console.log('[Cineby Module]', ...args);\r\n      }\r\n    },\r\n    \r\n    debounce: (func, wait) => {\r\n      let timeout;\r\n      return function executedFunction(...args) {\r\n        const later = () => {\r\n          clearTimeout(timeout);\r\n          func(...args);\r\n        };\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n      };\r\n    },\r\n    \r\n    isElementVisible: (el) => {\r\n      if (!el || !el.offsetParent) return false;\r\n      const rect = el.getBoundingClientRect();\r\n      return (\r\n        rect.top >= 0 &&\r\n        rect.left >= 0 &&\r\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\r\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth)\r\n      );\r\n    },\r\n    \r\n    scrollToElement: (element) => {\r\n      if (!element) return;\r\n      element.scrollIntoView({\r\n        behavior: CONFIG.scrollBehavior,\r\n        block: 'center',\r\n        inline: 'center'\r\n      });\r\n    }\r\n  };\r\n  \r\n  // Inject custom CSS for TV optimization\r\n  function injectStyles() {\r\n    const style = document.createElement('style');\r\n    style.id = 'cineby-tizen-styles';\r\n    style.textContent = `\r\n      /* Hide cursor on TV */\r\n      * {\r\n        cursor: none !important;\r\n      }\r\n      \r\n      /* TV Focus indicator */\r\n      .cineby-tv-focused {\r\n        outline: ${CONFIG.focusWidth} solid ${CONFIG.focusColor} !important;\r\n        outline-offset: 4px !important;\r\n        transform: scale(${CONFIG.scaleOnFocus}) !important;\r\n        transition: transform 0.2s ease, outline 0.2s ease !important;\r\n        z-index: 9999 !important;\r\n        position: relative !important;\r\n      }\r\n      \r\n      /* Increase text size for TV readability */\r\n      body {\r\n        font-size: 20px !important;\r\n        line-height: 1.6 !important;\r\n      }\r\n      \r\n      h1 { font-size: 42px !important; }\r\n      h2 { font-size: 36px !important; }\r\n      h3 { font-size: 30px !important; }\r\n      h4 { font-size: 26px !important; }\r\n      \r\n      /* Larger buttons and interactive elements */\r\n      button, \r\n      a.button,\r\n      input[type=\"button\"],\r\n      input[type=\"submit\"] {\r\n        min-height: 50px !important;\r\n        min-width: 120px !important;\r\n        padding: 14px 28px !important;\r\n        font-size: 20px !important;\r\n        border-radius: 8px !important;\r\n      }\r\n      \r\n      /* Input fields optimization */\r\n      input[type=\"text\"],\r\n      input[type=\"email\"],\r\n      input[type=\"password\"],\r\n      input[type=\"search\"],\r\n      textarea {\r\n        min-height: 50px !important;\r\n        font-size: 20px !important;\r\n        padding: 12px !important;\r\n      }\r\n      \r\n      /* Video player optimization */\r\n      video {\r\n        max-width: 100% !important;\r\n        max-height: 100vh !important;\r\n      }\r\n      \r\n      /* Remove hover effects that don't work on TV */\r\n      a:hover,\r\n      button:hover {\r\n        transform: none !important;\r\n      }\r\n      \r\n      /* On-screen keyboard helper */\r\n      .cineby-keyboard-active {\r\n        position: fixed !important;\r\n        bottom: 20px !important;\r\n        left: 50% !important;\r\n        transform: translateX(-50%) !important;\r\n        background: rgba(0, 0, 0, 0.9) !important;\r\n        padding: 20px !important;\r\n        border-radius: 10px !important;\r\n        color: white !important;\r\n        font-size: 18px !important;\r\n        z-index: 10000 !important;\r\n      }\r\n      \r\n      /* Loading indicator */\r\n      .cineby-loading {\r\n        position: fixed;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        font-size: 24px;\r\n        color: white;\r\n        background: rgba(0, 0, 0, 0.8);\r\n        padding: 30px 50px;\r\n        border-radius: 15px;\r\n        z-index: 10001;\r\n      }\r\n      \r\n      /* Video controls enhancement */\r\n      .cineby-video-controls {\r\n        position: fixed;\r\n        bottom: 30px;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        background: rgba(0, 0, 0, 0.85);\r\n        padding: 20px 40px;\r\n        border-radius: 12px;\r\n        color: white;\r\n        font-size: 20px;\r\n        z-index: 10000;\r\n        display: flex;\r\n        gap: 20px;\r\n        align-items: center;\r\n      }\r\n      \r\n      .cineby-video-controls.hidden {\r\n        display: none;\r\n      }\r\n    `;\r\n    document.head.appendChild(style);\r\n    utils.log('Styles injected successfully');\r\n  }\r\n  \r\n  // Focus management system\r\n  const focusManager = {\r\n    focusableSelectors: 'a, button, input, select, textarea, [tabindex]:not([tabindex=\"-1\"]), video',\r\n    \r\n    getFocusableElements: function() {\r\n      const elements = Array.from(document.querySelectorAll(this.focusableSelectors));\r\n      return elements.filter(el => {\r\n        const rect = el.getBoundingClientRect();\r\n        return el.offsetParent !== null && rect.width > 0 && rect.height > 0;\r\n      });\r\n    },\r\n    \r\n    setFocus: function(element) {\r\n      if (state.focusedElement) {\r\n        state.focusedElement.classList.remove('cineby-tv-focused');\r\n      }\r\n      \r\n      if (element) {\r\n        element.classList.add('cineby-tv-focused');\r\n        state.focusedElement = element;\r\n        utils.scrollToElement(element);\r\n        utils.log('Focus set to:', element.tagName, element.className);\r\n      }\r\n    },\r\n    \r\n    moveFocus: function(direction) {\r\n      const elements = this.getFocusableElements();\r\n      if (elements.length === 0) return;\r\n      \r\n      if (!state.focusedElement || !elements.includes(state.focusedElement)) {\r\n        this.setFocus(elements[0]);\r\n        return;\r\n      }\r\n      \r\n      const currentIndex = elements.indexOf(state.focusedElement);\r\n      let newIndex = currentIndex;\r\n      \r\n      switch(direction) {\r\n        case 'down':\r\n        case 'right':\r\n          newIndex = (currentIndex + 1) % elements.length;\r\n          break;\r\n        case 'up':\r\n        case 'left':\r\n          newIndex = (currentIndex - 1 + elements.length) % elements.length;\r\n          break;\r\n      }\r\n      \r\n      this.setFocus(elements[newIndex]);\r\n    },\r\n    \r\n    activate: function() {\r\n      if (state.focusedElement) {\r\n        utils.log('Activating element:', state.focusedElement);\r\n        state.focusedElement.click();\r\n        \r\n        // Special handling for input fields\r\n        if (state.focusedElement.tagName === 'INPUT' || \r\n            state.focusedElement.tagName === 'TEXTAREA') {\r\n          state.focusedElement.focus();\r\n          this.showKeyboardHelper();\r\n        }\r\n      }\r\n    },\r\n    \r\n    showKeyboardHelper: function() {\r\n      const helper = document.createElement('div');\r\n      helper.className = 'cineby-keyboard-active';\r\n      helper.textContent = '‚å®Ô∏è Use remote keyboard or connect USB keyboard';\r\n      document.body.appendChild(helper);\r\n      \r\n      setTimeout(() => helper.remove(), 3000);\r\n    }\r\n  };\r\n  \r\n  // Video player enhancements\r\n  const videoManager = {\r\n    init: function() {\r\n      // Check for video element periodically\r\n      const checkInterval = setInterval(() => {\r\n        const video = document.querySelector('video');\r\n        if (video && video !== state.videoElement) {\r\n          this.setupVideo(video);\r\n          clearInterval(checkInterval);\r\n        }\r\n      }, 1000);\r\n      \r\n      // Stop checking after 30 seconds\r\n      setTimeout(() => clearInterval(checkInterval), 30000);\r\n    },\r\n    \r\n    setupVideo: function(video) {\r\n      state.videoElement = video;\r\n      utils.log('Video element found and enhanced');\r\n      \r\n      // Register Tizen media keys\r\n      if (window.tizen) {\r\n        this.registerTizenKeys();\r\n      }\r\n      \r\n      // Add video event listeners\r\n      video.addEventListener('play', () => utils.log('Video playing'));\r\n      video.addEventListener('pause', () => utils.log('Video paused'));\r\n      video.addEventListener('ended', () => utils.log('Video ended'));\r\n      \r\n      // Show video controls\r\n      this.showControls();\r\n    },\r\n    \r\n    registerTizenKeys: function() {\r\n      const keys = [\r\n        'MediaPlayPause', 'MediaPlay', 'MediaPause', \r\n        'MediaStop', 'MediaFastForward', 'MediaRewind'\r\n      ];\r\n      \r\n      keys.forEach(key => {\r\n        try {\r\n          window.tizen.tvinputdevice.registerKey(key);\r\n          utils.log(`Registered key: ${key}`);\r\n        } catch (e) {\r\n          utils.log(`Failed to register key ${key}:`, e.message);\r\n        }\r\n      });\r\n    },\r\n    \r\n    play: function() {\r\n      if (state.videoElement) {\r\n        state.videoElement.play();\r\n        this.showNotification('‚ñ∂Ô∏è Playing');\r\n      }\r\n    },\r\n    \r\n    pause: function() {\r\n      if (state.videoElement) {\r\n        state.videoElement.pause();\r\n        this.showNotification('‚è∏Ô∏è Paused');\r\n      }\r\n    },\r\n    \r\n    togglePlayPause: function() {\r\n      if (state.videoElement) {\r\n        if (state.videoElement.paused) {\r\n          this.play();\r\n        } else {\r\n          this.pause();\r\n        }\r\n      }\r\n    },\r\n    \r\n    seek: function(seconds) {\r\n      if (state.videoElement) {\r\n        state.videoElement.currentTime += seconds;\r\n        const action = seconds > 0 ? 'Forward' : 'Rewind';\r\n        this.showNotification(`${action} ${Math.abs(seconds)}s`);\r\n      }\r\n    },\r\n    \r\n    stop: function() {\r\n      if (state.videoElement) {\r\n        state.videoElement.pause();\r\n        state.videoElement.currentTime = 0;\r\n        this.showNotification('‚èπÔ∏è Stopped');\r\n      }\r\n    },\r\n    \r\n    showControls: function() {\r\n      const controls = document.createElement('div');\r\n      controls.className = 'cineby-video-controls';\r\n      controls.innerHTML = `\r\n        <span>üéÆ Remote Controls Active</span>\r\n        <span>|</span>\r\n        <span>Play/Pause: Center</span>\r\n        <span>|</span>\r\n        <span>Seek: ‚óÄÔ∏è ‚ñ∂Ô∏è</span>\r\n      `;\r\n      document.body.appendChild(controls);\r\n      \r\n      // Auto-hide after 5 seconds\r\n      setTimeout(() => controls.classList.add('hidden'), 5000);\r\n    },\r\n    \r\n    showNotification: function(message) {\r\n      const notification = document.createElement('div');\r\n      notification.className = 'cineby-loading';\r\n      notification.textContent = message;\r\n      document.body.appendChild(notification);\r\n      \r\n      setTimeout(() => notification.remove(), 1500);\r\n    }\r\n  };\r\n  \r\n  // Keyboard event handler\r\n  function handleKeyPress(e) {\r\n    const now = Date.now();\r\n    \r\n    // Prevent too rapid key presses\r\n    if (now - state.lastKeyTime < 100) {\r\n      e.preventDefault();\r\n      return;\r\n    }\r\n    state.lastKeyTime = now;\r\n    \r\n    utils.log(`Key pressed: ${e.key} (${e.keyCode})`);\r\n    \r\n    // Navigation keys\r\n    switch(e.key) {\r\n      case 'ArrowUp':\r\n        e.preventDefault();\r\n        focusManager.moveFocus('up');\r\n        break;\r\n        \r\n      case 'ArrowDown':\r\n        e.preventDefault();\r\n        focusManager.moveFocus('down');\r\n        break;\r\n        \r\n      case 'ArrowLeft':\r\n        e.preventDefault();\r\n        if (state.videoElement && !state.videoElement.paused) {\r\n          videoManager.seek(-CONFIG.videoSeekStep);\r\n        } else {\r\n          focusManager.moveFocus('left');\r\n        }\r\n        break;\r\n        \r\n      case 'ArrowRight':\r\n        e.preventDefault();\r\n        if (state.videoElement && !state.videoElement.paused) {\r\n          videoManager.seek(CONFIG.videoSeekStep);\r\n        } else {\r\n          focusManager.moveFocus('right');\r\n        }\r\n        break;\r\n        \r\n      case 'Enter':\r\n        e.preventDefault();\r\n        focusManager.activate();\r\n        break;\r\n    }\r\n    \r\n    // Media control keys\r\n    switch(e.key) {\r\n      case 'MediaPlayPause':\r\n        videoManager.togglePlayPause();\r\n        break;\r\n      case 'MediaPlay':\r\n        videoManager.play();\r\n        break;\r\n      case 'MediaPause':\r\n        videoManager.pause();\r\n        break;\r\n      case 'MediaStop':\r\n        videoManager.stop();\r\n        break;\r\n      case 'MediaFastForward':\r\n        videoManager.seek(30);\r\n        break;\r\n      case 'MediaRewind':\r\n        videoManager.seek(-30);\r\n        break;\r\n    }\r\n    \r\n    // Number keys (0-9) for quick actions\r\n    if (e.keyCode >= 48 && e.keyCode <= 57) {\r\n      const number = e.keyCode - 48;\r\n      utils.log(`Number ${number} pressed - add custom action here`);\r\n    }\r\n    \r\n    // Color buttons (Samsung TV specific)\r\n    switch(e.keyCode) {\r\n      case 403: // Red button\r\n        utils.log('Red button pressed');\r\n        // Add custom action\r\n        break;\r\n      case 404: // Green button\r\n        utils.log('Green button pressed');\r\n        // Add custom action\r\n        break;\r\n      case 405: // Yellow button\r\n        utils.log('Yellow button pressed');\r\n        // Add custom action\r\n        break;\r\n      case 406: // Blue button\r\n        utils.log('Blue button pressed');\r\n        // Add custom action\r\n        break;\r\n      case 10009: // Back button\r\n        e.preventDefault();\r\n        history.back();\r\n        break;\r\n    }\r\n  }\r\n  \r\n  // Initialize module\r\n  function init() {\r\n    utils.log('Initializing Cineby TizenBrew Module...');\r\n    \r\n    // Inject styles\r\n    injectStyles();\r\n    \r\n    // Setup keyboard navigation\r\n    document.addEventListener('keydown', handleKeyPress);\r\n    \r\n    // Initialize video manager\r\n    videoManager.init();\r\n    \r\n    // Set initial focus\r\n    setTimeout(() => {\r\n      const elements = focusManager.getFocusableElements();\r\n      if (elements.length > 0) {\r\n        focusManager.setFocus(elements[0]);\r\n      }\r\n    }, 1000);\r\n    \r\n    // Watch for DOM changes and update focus\r\n    const observer = new MutationObserver(utils.debounce(() => {\r\n      if (!state.focusedElement || !document.contains(state.focusedElement)) {\r\n        const elements = focusManager.getFocusableElements();\r\n        if (elements.length > 0) {\r\n          focusManager.setFocus(elements[0]);\r\n        }\r\n      }\r\n    }, 500));\r\n    \r\n    observer.observe(document.body, {\r\n      childList: true,\r\n      subtree: true\r\n    });\r\n    \r\n    utils.log('‚úÖ Cineby module initialized successfully!');\r\n    \r\n    // Show welcome message\r\n    const welcome = document.createElement('div');\r\n    welcome.className = 'cineby-loading';\r\n    welcome.innerHTML = 'üé¨ Cineby TV Mode Active<br><small>Use arrow keys to navigate</small>';\r\n    document.body.appendChild(welcome);\r\n    setTimeout(() => welcome.remove(), 3000);\r\n  }\r\n  \r\n  // Start when DOM is ready\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', init);\r\n  } else {\r\n    init();\r\n  }\r\n  \r\n})();"],"names":["console","log","state","focusedElement","videoElement","isVideoFullscreen","lastKeyTime","utils","args","focusManager","focusableSelectors","getFocusableElements","Array","from","document","querySelectorAll","this","filter","el","rect","getBoundingClientRect","offsetParent","width","height","setFocus","element","classList","remove","add","scrollIntoView","behavior","block","inline","tagName","className","moveFocus","direction","elements","length","includes","currentIndex","indexOf","newIndex","activate","click","focus","showKeyboardHelper","helper","createElement","textContent","body","appendChild","setTimeout","videoManager","init","checkInterval","setInterval","video","querySelector","setupVideo","clearInterval","window","tizen","registerTizenKeys","addEventListener","showControls","forEach","key","tvinputdevice","registerKey","e","message","play","showNotification","pause","togglePlayPause","paused","seek","seconds","currentTime","action","Math","abs","stop","controls","innerHTML","notification","handleKeyPress","now","Date","preventDefault","keyCode","number","history","back","style","id","head","injectStyles","MutationObserver","func","wait","timeout","clearTimeout","contains","observe","childList","subtree","welcome","readyState"],"ignoreList":[],"sourceRoot":""}